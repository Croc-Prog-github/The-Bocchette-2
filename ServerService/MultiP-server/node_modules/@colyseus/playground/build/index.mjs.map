{
  "version": 3,
  "sources": ["../src-backend/index.ts"],
  "sourcesContent": ["import path from \"path\";\nimport express from \"express\";\nimport { auth, JWT } from \"@colyseus/auth\";\nimport { matchMaker, RoomListingData } from '@colyseus/core';\nimport { allRoomNames } from \"./colyseus.ext\";\n\nexport const playground = express.Router();\n\nexport type AuthConfig = {\n  oauth: string[],\n  register: boolean,\n  anonymous: boolean,\n};\n\n// serve static frontend\nplayground.use(\"/\", express.static(path.resolve(__dirname, \"..\", \"build\")));\n\n// expose matchmaking stats\nplayground.get(\"/rooms\", async (req, res) => {\n  const rooms = await matchMaker.driver.find({});\n\n  const roomsByType: { [roomName: string]: number } = {};\n  const roomsById: { [roomName: string]: RoomListingData } = {};\n\n  rooms.forEach((room) => {\n    if (!roomsByType[room.name]) { roomsByType[room.name] = 0; }\n    roomsByType[room.name]++;\n    roomsById[room.roomId] = room;\n  });\n\n  res.json({\n    rooms: allRoomNames,\n\n    roomsByType,\n    roomsById,\n\n    auth: {\n      // list of OAuth providers\n      oauth: Object.keys(auth.oauth.providers),\n      register: typeof(auth.settings.onRegisterWithEmailAndPassword) === \"function\",\n      anonymous: typeof(JWT.settings.secret) === \"string\",\n    } as AuthConfig\n  });\n});\n"],
  "mappings": "AAAA,OAAO,UAAU;AACjB,OAAO,aAAa;AACpB,SAAS,MAAM,WAAW;AAC1B,SAAS,kBAAmC;AAC5C,SAAS,oBAAoB;AAEtB,MAAM,aAAa,QAAQ,OAAO;AASzC,WAAW,IAAI,KAAK,QAAQ,OAAO,KAAK,QAAQ,WAAW,MAAM,OAAO,CAAC,CAAC;AAG1E,WAAW,IAAI,UAAU,OAAO,KAAK,QAAQ;AAC3C,QAAM,QAAQ,MAAM,WAAW,OAAO,KAAK,CAAC,CAAC;AAE7C,QAAM,cAA8C,CAAC;AACrD,QAAM,YAAqD,CAAC;AAE5D,QAAM,QAAQ,CAAC,SAAS;AACtB,QAAI,CAAC,YAAY,KAAK,IAAI,GAAG;AAAE,kBAAY,KAAK,IAAI,IAAI;AAAA,IAAG;AAC3D,gBAAY,KAAK,IAAI;AACrB,cAAU,KAAK,MAAM,IAAI;AAAA,EAC3B,CAAC;AAED,MAAI,KAAK;AAAA,IACP,OAAO;AAAA,IAEP;AAAA,IACA;AAAA,IAEA,MAAM;AAAA;AAAA,MAEJ,OAAO,OAAO,KAAK,KAAK,MAAM,SAAS;AAAA,MACvC,UAAU,OAAO,KAAK,SAAS,mCAAoC;AAAA,MACnE,WAAW,OAAO,IAAI,SAAS,WAAY;AAAA,IAC7C;AAAA,EACF,CAAC;AACH,CAAC;",
  "names": []
}
