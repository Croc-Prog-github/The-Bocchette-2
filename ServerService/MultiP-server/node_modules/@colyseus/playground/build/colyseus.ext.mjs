import { Server, Room, ClientState } from "@colyseus/core";
const originalDefine = Server.prototype.define;
const allRoomNames = [];
const original_onJoin = Room.prototype._onJoin;
Room.prototype._onJoin = async function(client, req) {
  const result = await original_onJoin.apply(this, arguments);
  if (client.state === ClientState.JOINING) {
    client.send("__playground_message_types", Object.keys(this["onMessageHandlers"]));
  }
  return result;
};
Server.prototype.define = function(name, handler, options) {
  allRoomNames.push(name);
  return originalDefine.call(this, name, handler, options);
};
export {
  allRoomNames
};
