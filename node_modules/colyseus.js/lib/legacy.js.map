{"version":3,"file":"legacy.js","sourceRoot":"","sources":["../src/legacy.ts"],"names":[],"mappings":"AAAA,EAAE;AACF,oCAAoC;AACpC,EAAE;AAEF;;GAEG;AACH,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;IACtB,WAAW,CAAC,MAAM,GAAG,CAAC,CAAM,EAAwB,EAAE;QAClD,OAAO,CAAC,KAAK,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,CAAC,CAAC,MAAM,YAAY,WAAW,CAAC;IACpF,CAAC,CAAC;AACN,CAAC;AAED,4CAA4C;AAC5C,oDAAoD;AACpD,IAAI,OAAM,CAAC,QAAQ,CAAC,KAAK,WAAW,EAAE,CAAC;IACnC,aAAa;IACb,MAAM,CAAC,UAAU,CAAC,GAAG;KAAQ,CAAC;AAClC,CAAC;AAED,sCAAsC;AACtC,oDAAoD;AACpD,IACI,OAAO,CAAC,UAAU,CAAC,KAAK,WAAW;IACnC,OAAO,CAAC,MAAM,CAAC,KAAK,WAAW,EACjC,CAAC;IACC,aAAa;IACb,MAAM,CAAC,YAAY,CAAC,GAAG,MAAM,CAAC;AAClC,CAAC","sourcesContent":["//\n// Polyfills for legacy environments\n//\n\n/*\n * Support Android 4.4.x\n */\nif (!ArrayBuffer.isView) {\n    ArrayBuffer.isView = (a: any): a is ArrayBufferView => {\n        return a !== null && typeof (a) === 'object' && a.buffer instanceof ArrayBuffer;\n    };\n}\n\n// Cocos Creator does not provide \"FormData\"\n// Define a dummy implementation so it doesn't crash\nif (typeof(FormData) === \"undefined\") {\n    // @ts-ignore\n    global['FormData'] = class {};\n}\n\n// Define globalThis if not available.\n// https://github.com/colyseus/colyseus.js/issues/86\nif (\n    typeof (globalThis) === \"undefined\" &&\n    typeof (window) !== \"undefined\"\n) {\n    // @ts-ignore\n    window['globalThis'] = window;\n}\n"]}