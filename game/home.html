<!DOCTYPE html>
<html lang="it">
  <head>
    <title>The Bocchette 2</title>
    <!-- START <meta> -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- END <meta> -->

    <!-- Content -->
    <script src="/var.js"></script>
    <script src="/game/GameMood/tecnic.js"></script>
    <script src="/exit.js"></script>
    <link rel="stylesheet" href="/game/home.css">
    <script src="/cons/cons.js"></script>
    <!-- Muliplayer -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="/client.js"></script>
    <script src="/game/multiP/UserList.js"></script>
  </head>
  <body style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; background-color: #195e79ad; margin-block: 0px;">

    <div style="display: flex;flex-direction: row;justify-content: space-evenly;align-items: center;background-color: #242424;width: 100%;height: 20px;background-size: cover;flex-wrap: nowrap;" name="up_bar">
      <div name="€" title="Banconote" style="display: flex; align-items: center; height: 20px; background-color: #1159dba3; border-radius: 4px; margin-top: 15px">
        <hx style="color: white; padding-left: 10px; cursor: default;" id="soldi">Error</hx>
        <img src="https://docs.google.com/drawings/d/e/2PACX-1vRY0pup0VxjthO6ohSgX3RC29HShZ8JFuoCg7luCeb6Vf4oOkWPGl32GdugLMPkUn56ZmQ-bH9hnLi5/pub?w=50&h=50" style="height: 40px;" alt="La fonte non è disponibile">
      </div>

      <div name="Gemme" title="Gemme" style="display: flex; align-items: center; height: 20px; background-color: #1159dba3; border-radius: 4px; margin-top: 15px;">
        <hx style="color: white; padding-left: 10px; cursor: default;" id="gemme">Error</hx>
        <img src="https://docs.google.com/drawings/d/e/2PACX-1vQQ42zr_c9L0G-wp60VNXlS7h4fBZjnofJZFcJ9jAVF_Ga8M7LAdoIE40PpWFASQrdFD5e-2CzMwL72/pub?w=50&h=50" style="height: 30px;" alt="La fonte non è disponibile">
      </div>
    </div>

    <div name="Profilo" style="background: black; width: 120px; height: 28px; margin-top: 7px; cursor: pointer;">
      <progress style="width: 95px; margin-left: 5.5px; accent-color: #5757df; margin-top: 4.5%;" value="0" max="100"></progress>
      <x style="color: white; cursor: default;">1</x>
    </div>

    <div style="display: flex; align-items: flex-start; flex-direction: column; margin-top: 15px;" name="butt">
      <button name="news" onclick="window.location.href = '/SITO_NON_PRONTO'">Notizie</button>
      <button name="shop" onclick="window.location.href = '/game/shop.html';" style="background: lightgray; border: solid 3px gray;">Negozio</button>
      <button name="bocch" onclick="window.location.href = '/game/MenuBocch/SelectBocch.html';" style="background: lightgray; border: solid 3px gray;">Seleziona Bocchetta</button>
      <button name="MenuTecnic" onclick="window.location.href = '/game/MenuTecnic.html';" style="background: lightgray; border: solid 3px gray;">Seleziona Tecnica</button>
      <button name="miss" onclick="window.location.href = '/game/GameMood/Miss_story.html';" style="background: lightgray; border: solid 3px gray;">Missioni-storia</button>
    </div>

    <div style="position: absolute; z-index: 3; margin-top: -5%;" id="MinImpo" hidden>
      <div style="padding-left: 95.5%; margin-left: 70%; background: white; ">
        <button style="background: indianred; border: solid 3px darkred; font: message-box;" onclick="CSett()">X</button>
      </div>
      <iframe src="/game/impo.html" frameborder="1.5" style="width: 600px; height: 400px; margin-left: 70%;"></iframe>
    </div>

    <div style="/*margin-left: 38%;*/ display: flex; justify-content: center;">
      <div style="margin-right: 15px; display: grid; align-content: center; justify-items: center; cursor: default;">
        Seleziona Tecnica per tasto E
        <br>
        <button id="Tecnic1" value="dispersione" style="border-radius: 5px; border-bottom: solid black 3px; appearance: none; border-right: outset;text-align: center; padding-block: 0px; border-top-style: outset;">dispersione</button>
        <!--
        <select id="Tecnic1" style="border-radius: 5px; border-bottom: solid black 3px; appearance: none; /*outline-style: outset;*/ border-right: outset;text-align: center;">
          <option value="dispersione">dispersione</option>
          <option value="taglio netto">taglio netto</option>
          <option value="super taglio netto">super taglio netto</option>
          <option value="rasengan" disabled title="Tecnica non ancora trovata">rasengan</option>
        </select>
        -->
      </div>
    
      <div style="margin-right: 15px; display: grid; align-content: center; justify-items: center; cursor: default;">
        Seleziona Tecnica per tasto F
        <br>
        <button id="Tecnic2" value="taglio netto" style="border-radius: 5px; border-bottom: solid black 3px; appearance: none; border-right: outset;text-align: center; padding-block: 0px; border-top-style: outset;">taglio netto</button>
        <!--
        <select id="Tecnic2" style="border-radius: 5px; border-bottom: solid black 3px; appearance: none; /*outline-style: outset;*/ border-right: outset;text-align: center;">
          <option value="taglio netto">taglio netto</option>
          <option value="dispersione">dispersione</option>
          <option value="super taglio netto">super taglio netto</option>
          <option value="rasengan" disabled title="Tecnica non ancora trovata">rasengan</option>
        </select>
        -->
      </div>
    </div>

    <div style="display: flex; flex-direction: row; justify-content: space-around; margin-top: 20vh;">
      <button onclick="OpnMP()" aria-label="1 giocatori online" id="invit1" style="border-radius: 6px; border-style: double; font-variant-caps: small-caps;background-image: linear-gradient(40deg, darkgray, white); border-bottom: solid black 3px;">+</button>
      <button onclick="OpnMP()" aria-label="1 giocatori online" id="invit2" style="border-radius: 6px; border-style: double; font-variant-caps: small-caps;background-image: linear-gradient(40deg, darkgray, white); border-bottom: solid black 3px;">+</button>
    </div>

    <div style="position: absolute; z-index: 3; margin-top: -17%; margin-left: 29%; display: none;" name="Invita player" id="MultiP">
      <div style="padding-left: 95.7%; background: white;">
        <button style="background: indianred; border: solid 3px darkred; font: message-box;" onclick="ClosMP()">X</button>
      </div>
      <iframe src="/game/multiP/onlineUser.html" height="400px" width="650px"></iframe>
    </div>

    <div style="display: flex; flex-direction: row-reverse;" name="menù princ" id="M_princ">
      <img src="https://docs.google.com/drawings/d/e/2PACX-1vSxF6EvIMPHfWs1SwY_XPABAJHQQRc0l_-V10auLdTB7dpOhTRPZEt0TWIcr-gAmIAYDYfhSQ3xnQPl/pub?w=100&h=100" alt="La fonte non è disponibile" style="margin-top: -357px; margin-bottom: 73vh;" title="Menù" onclick="OpnM()">
    </div>


    <div style="display: flex; flex-direction: row; align-items: flex-start;">
      <div name="Casse varie">
        <div name="CASSA COMUNE" style="position: absolute;bottom: 70px;" title="Cassa Comune">
          <img src="https://docs.google.com/drawings/d/e/2PACX-1vSAWKGdL6u1QeLPv11QKsqqLfctzKkiRfe1Ik1aMrIwOEtXF0uYPuI4u_vVjd7JddMhW8Y2suMl2SgF/pub?w=252&amp;h=242" alt="La fonte non è disponibile" style="width: 69px; margin-top: -85px;" onclick="window.location.href = '/game/cass/CCom.html';">
          <button style="margin-top: -90px; margin-left: -23px; border: 0; background: dodgerblue; color: white; border-radius: 9px; top: 35px; position: absolute; left: 40px;">Error</button>
        </div>

        <div name="CASSA RARA" style="position: absolute;left: 82px;bottom: 70px;" title="Cassa Rara">
          <img src="https://docs.google.com/drawings/d/e/2PACX-1vRaxjzpWvxqbCYrZT99Ra65TAUqyAtx4zb3qwYjlNSqjlP0HvlKVUkI9j74ix5d40m3BmMxwGX6VO9x/pub?w=503&h=483" alt="La fonte non è disponibile" style="width: 69px; margin-top: -85px;" onclick="window.location.href = '/game/cass/CRar.html';">
          <button style="margin-top: -90px; margin-left: -23px;border: 0; background: dodgerblue; color: white; border-radius: 9px ;top: 35px; position: absolute; left: 40px;">Error</button>
        </div>

        <div name="CASSA EPICA" style="position: absolute; left: 157px; bottom: 70px;" title="Cassa Epica">
          <img src="https://docs.google.com/drawings/d/e/2PACX-1vR5oliMt5YduJ-xYWw9xTLnRgq-U5pDqVAjyEQhAdgQp4ia5vhTSDXA0men-Up_RxPt9jwMtpHRFIBU/pub?w=503&h=483" alt="La fonte non è disponibile" style="width: 69px; margin-top: -85px;" onclick="window.location.href = '/game/cass/CRar.html';">
          <button style="margin-top: -90px; margin-left: -23px;border: 0; background: dodgerblue; color: white; border-radius: 9px ;top: 35px; position: absolute; left: 40px;">Error</button>
        </div>

        <div name="CASSA LEGGENDARIA" style="position: absolute; left: 231px; bottom: 70px;" title="Cassa Leggendaria">
          <img src="https://docs.google.com/drawings/d/e/2PACX-1vSayQkuTIWt9cFXplIdqjmBSqGDwnvejYTDLM38G0JJMtmcbOhcJi2eNB0u_rJfOx_G3c3ERTDstqX1/pub?w=503&h=483" alt="La fonte non è disponibile" style="width: 69px; margin-top: -85px;" onclick="window.location.href = '/game/cass/C.html';">
          <button style="margin-top: -90px; margin-left: -23px;border: 0; background: dodgerblue; color: white; border-radius: 9px ;top: 35px; position: absolute; left: 40px;">Error</button>
        </div>

        <div name="CASSA TRIX MODE" style="position: absolute; left: 305px; bottom: 67px;" title="Cassa Trix mode">
          <img src="https://docs.google.com/drawings/d/e/2PACX-1vQ1cHRzGZaGCISyg1hEeLCWzbskb4NpiSEVCf5H9IUqI-abKId729DWveBTDeHEuBDnGp4khglDEXnJ/pub?w=503&h=482" alt="La fonte non è disponibile" style="width: 69px; margin-top: -85px;" onclick="window.location.href = '/game/cass/C.html';">
          <button style="margin-top: -90px; margin-left: -23px;border: 0; background: dodgerblue; color: white; border-radius: 9px ;top: 35px; position: absolute; left: 40px;">Error</button>
        </div>

        <div name="CASSA INFINITY" style="position: absolute; left: 380px; bottom: 67px;" title="Cassa Infinity">
          <img src="https://docs.google.com/drawings/d/e/2PACX-1vR78PuSNYrGTmF7Ax7HtXRA_ddgxstxRZcQjA_g_k7qjklh8r-wC_Tt_rVdYxP2Y31anVAkpYK1owMD/pub?w=503&h=482" alt="La fonte non è disponibile" style="width: 69px; margin-top: -85px;" onclick="window.location.href = '/game/cass/C.html';">
          <button style="margin-top: -90px; margin-left: -23px;border: 0; background: dodgerblue; color: white; border-radius: 9px ;top: 35px; position: absolute; left: 40px;">Error</button>
          <div name="effect" style="width: 80px; height: 72px; position: absolute; bottom: 1px; right: -5px; border-radius: 40px; background: radial-gradient(transparent, green); z-index: -1;" id="effect1"></div>
        </div>
      </div>

      <div name="pass" style="width: 160px; height: 50px; background-color: gold; border-radius: 8px; margin-right: 35%; margin-left: 0px;" onclick="window.location.href = '/game/pass/pass.html';">
        <hx style="margin-left: 6%; cursor: default;">Bocchet Pass</hx>
        <div style="display: flex; flex-direction: row;align-items: center;">
          <progress value="0" max="50" style="width: 90%; margin-left: 5%; margin-top: -1%; height: 35px;" id="progress"></progress> 
          <button style="margin-right: 5%; background-color: darkgoldenrod; border: 0px; border-radius: 10px; color: white;" id="obb">Error</button>
        </div>
      </div>

      <div style="background: white; width: 200px; height: 55px; /*border: solid 3px black;*/ border-radius: 7px;" onclick="window.location.href = '/game/event.html';">
        <img src="https://docs.google.com/drawings/d/e/2PACX-1vRY5rVGGwFbGX5XBXOTvVzchOT3Ns1WlJVmbP72yYtGgz_f5qv4CCcEDor5Wss2sgDiVhW9lBXlI9wt/pub?w=308&h=102" alt="La fonte non è disponibile" style="width: 101%; margin-top: -10px;" id="eventS">
      </div>
      <button style="margin-left: 5px; padding-block: 24px; margin-top: -17px; padding-inline: 15px; color: white; background-color: dodgerblue; border: solid 3px darkblue; border-radius: 8px; font-size: 20px; border-bottom: solid 6px darkblue;" onclick="play(); STecnic1(); STecnic2();">Gioca</button>
    </div>

  </body>
</html>

<script>//Importa la Tecnica 1 in Slot 1
  // Funzione per impostare il valore del pulsante Tecnic1
  function setTecnic1Value(value) {
    const tecnic1Button = document.getElementById('Tecnic1');
    tecnic1Button.value = value;
    tecnic1Button.textContent = value;
  }

  // Recuperare il valore dal localStorage all'avvio della pagina
  document.addEventListener('DOMContentLoaded', function() {
    const tecnic1Value = localStorage.getItem('Tecnic1Value');
    if (tecnic1Value) {
      setTecnic1Value(tecnic1Value);
    }
  });
</script>

<script>//Importa la Tecnica 2 in Slot 2
  // Funzione per impostare il valore del pulsante Tecnic2
  function setTecnic2Value(value) {
    const tecnic2Button = document.getElementById('Tecnic2');
    tecnic2Button.value = value;
    tecnic2Button.textContent = value;
  }

  // Recuperare il valore dal localStorage all'avvio della pagina
  document.addEventListener('DOMContentLoaded', function() {
    const tecnic2Value = localStorage.getItem('Tecnic2Value');
    if (tecnic2Value) {
      setTecnic2Value(tecnic2Value);
    }
  });
</script>

<script> //Animazione di Effect per le casse
  const effect1 = document.getElementById('effect1');
  const colors = ['azure', 'green', 'yellow', 'purple'];
  let currentColorIndex = 0;
  function changeGradientColor() {
    const currentColor = colors[currentColorIndex];
    const nextColorIndex = (currentColorIndex + 1) % colors.length;
    const nextColor = colors[nextColorIndex];
    const nextNextColorIndex = (currentColorIndex + 2) % colors.length;
    const nextNextColor = colors[nextNextColorIndex];
    effect1.style.background = `radial-gradient(${currentColor}, ${nextColor}, ${nextNextColor})`;
    currentColorIndex = nextColorIndex;
  }
  setInterval(changeGradientColor, 150); // Cambia colore ogni secondo
</script>

<script> //Apri-chiudi Menù multiplayer
  function OpnMP() {
    const MultiP = document.getElementById("MultiP");
    MultiP.style.display = "block";
  }

  function ClosMP() {
    const MultiP = document.getElementById("MultiP");
    MultiP.style.display = "none";

    /* //Chiude fumetto in lista onlineUser
    const inviteB = document.getElementById("inviteB");
    inviteB.setAttribute("aria-label", "");
    */
  }
</script>

<script> // Ti rendirizza ad un evento
  function play() {
    let evento = localStorage.getItem("event");
    console.info("L'URL dell'evento giocato è: " + evento);
    switch(evento){
      case "https://docs.google.com/drawings/d/e/2PACX-1vThkYugncXnRrRbAC7ZgdpfKWX2xPDCN_YtkG78Gd4BCEz2D7gCjIrFjaA40TTkpxXoFnNFjq0jP9Cy/pub?w=308&h=102":
        console.info("Reindirizzo all'evento: Sopravvivenza Singolo");
        window.location.href = '/game/GameMood/BattleRoyal/sopr.html';
      break;
      default:
        console.error("Reindirizzamento ad un evento fallito!")
      break;
    }
  }
</script>


<script> //Apri-chiudi <iframe> impostazioni
  function OSett() {
    const MinImpo = document.getElementById("MinImpo");
    MinImpo.style.display = "block";
  }
  
  function CSett() {
    const MinImpo = document.getElementById("MinImpo");
    MinImpo.style.display = "none";
  }
</script>

<script>
  function OpnM() { //Apri menù principale
    const mPrinc = document.getElementById("M_princ");

    // Elimina tutti gli elementi all'interno di M_princ
    while (mPrinc.firstChild) {
      mPrinc.removeChild(mPrinc.firstChild);
    }

    // Crea il div quando il menù è aperto
    let newDiv = document.createElement("div");
    /*
    newDiv.style.width = "150px";
    newDiv.style.paddingBlock = "230px";
    newDiv.style.background = "black";
    newDiv.style.marginTop = "-255px";
    newDiv.style.marginBottom = "9vh";
    */

    newDiv.innerHTML = '<div style="width: 150px; height: 460px; background: dimgray; margin-top: -296px; margin-bottom: 14vh; display: flex; flex-direction: column; flex-wrap: nowrap; justify-content: flex-start; align-items: stretch; z-index: 1; position: relative"><button style="margin-inline: 10px; margin-top: 15px;" onclick="rend(1)">Gestione dati</button><button style="margin-inline: 10px;margin-top: 15px;" onclick="rend(3)">Modalità di gioco</button><button name="impo" onclick="OSett()" style="margin-inline: 10px; margin-top: 15px;">Impostazioni</button><button style="margin-top: 15px;margin-inline: 10px;" onclick="rend(2)">Guida e assistenza</button><button onclick="rend(4)" style="margin-inline: 10px; margin-top: 15px;">Lascia un feedback</button></div>';
    // Inserisce il nuovo div all'interno di M_princ
    mPrinc.appendChild(newDiv);


    //Crea le voci del menù (in un array)
  }
</script>

<script> //Reidirizza alle voci del menù
  function rend(n) {
    switch (n) {
      case 1:
        window.location.href = '/game/menu/GestDat.html';
      break;
      case 2:
        window.location.href = '/game/menu/GuidAss.html';
      break;
      case 3:
        window.location.href = '/game/menu/MoodGame.html';
      break;
      case 4:
        window.open("https://github.com/Croc-Prog-github/The-Bocchette-2/discussions/new?category=feedback", "_blank");
      break;
    }
  }
</script>

<script> //Riceve il event dal local storage (per gli eventi)
  let elemento = document.getElementById("eventS"); // Seleziona l'elemento in cui vuoi inserire la variabile
  let event = localStorage.getItem("event"); // Recupera la variabile dal storage locale
  elemento.src = event; // Assegna la variabile all'elemento
</script>

<script> //Aggiorna le gemme
  function updateGemme() {
    const gemmeTag = document.getElementById("gemme");
    gemmeTag.innerHTML = gemme.toString();
  }
  setInterval(function() {
    updateGemme();
  }, 100);
</script>

<script> //Aggiorna i soldi
  function updateSoldi() {
    const soldiTag = document.getElementById("soldi");
    soldiTag.innerHTML = soldi.toString();
  }
  setInterval(function() {
    updateSoldi();
  }, 100);
</script>

<script> //Visualizza obbiettivo Bocchet pass
  function updateObb() {
    const obbTag = document.getElementById("obb");
    obb = obb + 2;
    obbTag.innerHTML = obb.toString();
  }
  setInterval(function() {
    updateObb();
    obb = obb - 2;
  }, 100);
</script>

<script> //Visualizza il value di progress del pass
  function updateGett() {
    const gettTag = document.querySelector("#progress");
    gettTag.innerHTML = gett.toString();
    gettTag.title = gett + " of 50";
  }
  setInterval(function() {
    progress.value = gett;
    updateGett();
  }, 100);
</script>