<!DOCTYPE html>
<html lang="it">
  <head>
    <title>The Bocchette 2 - Creativa</title>
    <!-- START <meta> -->
    <meta charset="UTF-8" />
    <!-- END <meta> -->

    <!-- Content -->
    <link rel="icon" href="https://docs.google.com/drawings/d/e/2PACX-1vRzg3r27e7_yLyB4m8rlyFHgQ8H5d6IJtW39axawbD5u7S_eX3ezqZdtll3NBLxJYY_OUhuSGJ-jQ8T/pub?w=16&h=16" type="image/x-icon">
    <script src="/cons/console.js"></script>
    <script src="/SchedDes.js"></script>
  </head>
  <body style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande','Lucida Sans', Arial, sans-serif; background-color: #195e79ad;">

    <div style="width: 220px; background: #ffffff; z-index: 4; position: absolute; margin-bottom: 1.5%; height: 98%;" hidden id="menu">
      <span style="font-size: xx-large; text-align: center; display: flex; justify-content: center;">CREATIVA</span>
      <div style=" display: flex; flex-direction: column; flex-wrap: nowrap; align-items: stretch; margin-inline: 5px; margin-top: 15%;">
        <button style="background: lightgray; border: solid 3px gray" onclick="OSett()">Impostazioni</button>
        <button disabled>Impostazioni mappa</button>
        <button disabled>Seleziona squadra</button>
        <button style="background: indianred; border: solid 3px darkred" onclick="let exit=window.confirm('Sei sicuro di voler uscire? Tornerai nella GameMode BattleRoyale.');if(exit == true){localStorage.setItem('GameMode', 'BattleRoyale'); window.location.href = '/game/home.html';}">ESCI</button>
      </div>
    </div>

    <div style="position: absolute; z-index: 1; margin-top: 6%;">
      <div style="position: absolute; z-index: 3;" id="MinImpo" hidden>
        <div style="padding-left: 95.5%; margin-left: 70%; background: white; ">
          <button style="background: indianred; border: solid 3px darkred; font: message-box;" onclick="CSett()">X</button>
        </div>
        <iframe src="/game/impo.html" frameborder="1.5" style="width: 600px; height: 400px; margin-left: 70%"></iframe>
      </div>
    </div>

    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSWH_9ZNi6PFSgneXu9NvCXG71x77JwqrHDdQ&usqp=CAU" alt="" style="margin-top: 3%; margin-left: 30%; width: 600px;">
    <div style="width: 454px; height: 290px; position: absolute; margin-top: -557px; margin-left: 529px; cursor: url(https://d23gl0hu9nedef.cloudfront.net/image/cursor/hand.gif), default; background: dodgerblue;">
      <div style="display: flex; justify-content: center;">C:\User\Player\Creativa\Home</div>
      <div style="margin-top: 10px; display: flex; justify-content: space-evenly;">
        <div style="display: flex; flex-direction: column; align-items: center;" onclick="SCmap()">
          <svg viewBox="0 0 16 16" fill="yellow" width="4em" height="4em">
            <path d="M6.56 2.48H2.24c-.8 0-1.44.64-1.44 1.44v8.64c0 .79.65 1.44 1.44 1.44h11.52c.79 0 1.44-.65 1.44-1.44v-7.2c0-.8-.65-1.44-1.44-1.44H8L6.56 2.48z"></path>
          </svg>
          <hx>Mappe personali</hx>
        </div>

        <div style="display: flex; flex-direction: column; align-items: center;" onclick="">
          <svg viewBox="0 0 16 16" fill="yellow" width="4em" height="4em">
            <path d="M6.56 2.48H2.24c-.8 0-1.44.64-1.44 1.44v8.64c0 .79.65 1.44 1.44 1.44h11.52c.79 0 1.44-.65 1.44-1.44v-7.2c0-.8-.65-1.44-1.44-1.44H8L6.56 2.48z"></path>
          </svg>
          <hx>Esplora</hx>
        </div>
      </div>
    </div>

    
    <div style="margin-top: 1.2%; height: 20px; width: 99.5%; background-color: #4343db; border: darkblue solid 5.5px; color: white; cursor: default;">
      <strong>[Esc] Menù </strong>
      <strong></strong>
    </div>

  </body>
</html>

<script>
  let yourMap = [];
  function SCmap() {
    let risp;
    if (yourMap.length === 0) {
      risp = window.confirm('Non hai mappe, ne vuoi creare una?');
      if (risp === true) {
        window.location.href = '/game/GameMood/creativeEditor/creativeEditor.html';
      }
    } else {
      risp = window.prompt('Quale mappa vuoi aprire tra queste? '+ yourMap);
      if (yourMap.includes(risp)) {
        //...
      } else {
        window.alert('Non hai nessuna mappa chiamata: ' + risp);
      }
    }
  }
</script>

<script> //Apri <iframe> impostazioni
  function OSett() {
    const MinImpo = document.getElementById("MinImpo");
    MinImpo.style.display = "block";
  }

  function CSett() {
    const MinImpo = document.getElementById("MinImpo");
    MinImpo.style.display = "none";
  }
</script>

<script> // apri/chiudi menù
  document.addEventListener('keydown', function (event) {
    if (event.key === 'Escape') {
      const menuDiv = document.getElementById('menu');
      if (menuDiv.hasAttribute('hidden')) {
        menuDiv.removeAttribute('hidden');
      } else {
        menuDiv.setAttribute('hidden', true);
      }
    }
  });
</script>
