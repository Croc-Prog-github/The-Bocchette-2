<!DOCTYPE html>
<html lang="it">
  <head>
    <title>The Bocchette 2 - Editor Mappe Creativa</title>
    <!-- START <meta> -->
    <meta charset="UTF-8" />
    <!-- END <meta> -->

    <!-- Content -->
    <script src="/cons/cons.js"></script>
  </head>
  <body style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande','Lucida Sans', Arial, sans-serif; background-color: #195e79ad; cursor: default;">
    
    <div style="overflow-y: auto; height: 40em;">
      <div name="Terreno" style="width: 950px; height: 700px; background-color: darkkhaki;">
    
      </div>
    </div>

    <div name="interface">
      <div name="Creativa" id="creativ" style="width: 1535px; height: 677px; background: royalblue; position: absolute; top: 1px; left: 0px;" hidden>
        <button style="background: indianred; border: solid 3px darkred; font: message-box; margin-left: 90%; margin-bottom: 5px;" onclick="WinEdit(0)">X</button>
        <div style="display: flex; justify-content: space-evenly;">
          <button>Impostazioni mappa</button>
          <button style="border: solid darkblue;">Finestra modifiche</button>
        </div>
        <div name="categor" style="display: flex; justify-content: space-evenly; margin-block: 7px;">
          <button>Strutture Prefabbricate</button>
          <button style="border: solid darkblue;">Blocchi da costruzione</button>
          <button>Dispositivi</button>
          <button>Armi</button>
          <button>Consumabili</button>
        </div>
        <div style="display: flex; flex-direction: row; width: max-content; height: 87%; margin-inline: 7px;">
          <button style="width: 100px; height: 100px; padding: 1px; display: flex; justify-content: flex-end; align-items: flex-start;"><img src="https://docs.google.com/drawings/d/e/2PACX-1vQWjpgoDtgc_wKaOhOq2GgOm_-XqSNS8zmkPvkqwku38r5Fh3spTChn_bS4wRnDHdPdzMz_4P2Kt0BI/pub?w=100&h=100" alt="Err"></button>
        </div>
      </div>
      <div name="Imp_Mappa"></div>
    </div>

    <div style="width: 220px; background: #ffffff; z-index: 4; position: absolute; margin-bottom: 1.5%; height: 95%; top: 8px;" hidden id="menu">
      <span style="font-size: xx-large; text-align: center; display: flex; justify-content: center;">EDITOR CREATIVA</span>
      <div style="display: flex; flex-direction: column; flex-wrap: nowrap; align-items: stretch; margin-inline: 5px; margin-top: 15%;">
        <button style="background: lightgray; border: solid 3px gray" onclick="OSett()">Impostazioni</button>
        <button style="background: lightgray; border: solid 3px gray" onclick="WinEdit(1)">Impostazioni mappa</button>
        <button style="background: lightgray; border: solid 3px gray">Seleziona squadra</button>
        <button style="background: indianred; border: solid 3px darkred" onclick="let exit=window.confirm('Sei sicuro di voler uscire?');if(exit == true){window.location.href = '/game/GameMood/creativ.html';}">ESCI</button>
      </div>
    </div>

    <div style="position: absolute; z-index: 1; margin-top: 6%; top: 8px;">
      <div style="position: absolute; z-index: 3;" id="MinImpo" hidden>
        <div style="padding-left: 95.5%; margin-left: 70%; background: white; ">
          <button style="background: indianred; border: solid 3px darkred; font: message-box;" onclick="CSett()">X</button>
        </div>
        <iframe src="/game/impo.html" frameborder="1.5" style="width: 600px; height: 400px; margin-left: 70%"></iframe>
      </div>
    </div>

    <div style="margin-top: 1.2%; height: 20px; width: 99.5%; background-color: #4343db; border: darkblue solid 5.5px; color: white; cursor: default;">
      <strong>[Esc] Menù </strong>
      <!-- <strong>[Esc] Chiudi finestra modifiche</strong> -->
    </div>
  </body>
</html>

<script>
  function WinEdit(n){
    const creativ = document.getElementById('creativ');
    if (n === 1) {
      creativ.hidden = false;
    } 
    if (n === 0) {
      creativ.hidden = true;
    }
  }
</script>

<script> //Apri <iframe> impostazioni
  function OSett() {
    const MinImpo = document.getElementById("MinImpo");
    MinImpo.style.display = "block";
  }

  function CSett() {
    const MinImpo = document.getElementById("MinImpo");
    MinImpo.style.display = "none";
  }
</script>

<script> // apri/chiudi menù
  document.addEventListener('keydown', function (event) {
    if (event.key === 'Escape') {
      const menuDiv = document.getElementById('menu');
      if (menuDiv.hasAttribute('hidden')) {
        menuDiv.removeAttribute('hidden');
      } else {
        menuDiv.setAttribute('hidden', true);
      }
    }
  });
</script>