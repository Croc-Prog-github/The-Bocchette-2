<!DOCTYPE html>
<html>
  <head>
    <title>Console</title>
  </head>
  <body style="background: black; color: white; font-family: monospace; cursor: url(/cons/mouse.svg), default; display: flex; flex-direction: column; justify-content: flex-end;">
    <div id="out" style="width: 99%; height: 360px; overflow: auto;">
      The Bocchette 2 Console
      <br>
      Digita: --help per consultare la guida
      <br>

    </div>

    <div style="display: flex; flex-direction: row; justify-content: space-between;">
      <input type="text" id="inp" placeholder="digita: @, / per iniziare..."  autocomplete="off" spellcheck="false" style="width: 94.3%; height: 1.5em; background: black; color: white; border: solid 1px white; font-family: monospace;" />
      <button style="font-family: cursive;" title="Invia" onclick="Enter()">&lt;â”˜</button>
    </div>
  </body>
</html>

<script>
  const inp = document.getElementById('inp');
  const out = document.getElementById('out');

  inp.placeholder = 'digita: @, / per iniziare...';

  function Enter() { 
    let comand = inp.value;

    if (comand == '--help') {
      out.innerText += comand;
      out.innerHTML += '<br>';
      window.open('https://github.com/Croc-Prog-github/The-Bocchette-2/blob/main/cons/ConsoleGuide.md#guida-alla-console-the-bocchette-2', '_blank');
    }
    else if (comand == '--clear') {
      out.innerHTML = 'The Bocchette 2 Console<br>Digita: --help per consultare la guida<br>';
    }
    else if (/^@ [^\s]+$/.test(comand)) {
      inp.placeholder = 'Digita: break per dissociare utente; comandi indirizzati a:' + comand;

      out.innerText += comand;
      out.innerHTML += '<br>';
      out.innerText += 'Comandi indirizzati a utente:' + comand;
      out.innerHTML += '<br>';
    } if (comand == 'break') {
      out.innerText += comand;
      out.innerHTML += '<br>';
      inp.placeholder = 'digita: @, / per iniziare...';
    }
    else {
      out.innerText += comand;
      out.innerHTML += '<br>';
      out.innerText += 'Comando sconosciuto.';
      out.innerHTML += '<br>';
    }


    inp.value = '';
  }
</script>